<ion-content [fullscreen]="true">
  <app-header></app-header>
  <form [formGroup]="updateProfileForm" (ngSubmit)="updateProfile()">
    <ion-row style="
      width: 100%;
      height: auto;
      background-color: #e0f3f3;
      margin-bottom: 40px;
    " class="ion-text-center">
      <ion-col size="12" class="ion-no-padding" style="margin-top: 35px;margin-bottom: 35px;">
        <ion-label
          style=" font-size: 40px; font-weight: bold; color: #082e4b; margin-left: 50px;">Modifica
          Profilo</ion-label>
      </ion-col>
      <ion-col size="4" class="ion-no-padding">
        <ion-item class="input">
          <ion-label position="floating">Nome</ion-label>
          <ion-input type="text" required formControlName="name"></ion-input>
        </ion-item>
        <ion-item class="input">
          <ion-label position="floating">Cognome</ion-label>
          <ion-input type="text" required formControlName="surname"></ion-input>
        </ion-item>
        <ion-item class="input">
          <ion-label position="floating">Email</ion-label>
          <ion-input type="email" required formControlName="email"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="4" class="ion-no-padding">
        <ion-item class="input">
          <ion-label position="floating">Password</ion-label>
          <ion-input type="password" required formControlName="password"></ion-input>
        </ion-item>
        <ion-item class="input">
          <ion-label position="floating">Data di nascita</ion-label>
          <ion-input type="date" required formControlName="birthDate"></ion-input>
        </ion-item>
        <ion-item class="input">
          <ion-label position="floating">Numero di cellulare</ion-label>
          <ion-input type="number" placeholder="0000000000" required formControlName="phone"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="4" class="ion-no-padding">
        <!-- //se sei un medico -->
        <ng-container *ngIf="isDoctor">
          <ion-item class="input">
            <ion-label position="floating">Durata Visita Media</ion-label>
            <ion-input type="time" required formControlName="visitDuration"></ion-input>
          </ion-item>
          <ion-item class="input">
            <ion-label position="floating">Specializzazione</ion-label>
            <ion-input type="text" required formControlName="specialization"></ion-input>
          </ion-item>
        </ng-container>
        <ion-item class="input">
          <ion-input type="file" accept="image/*" (change)="uploadImage($event)"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="12">
        <ion-button class="registrati-button" type="submit" expand="block" size="large"
          [disabled]="!updateProfileForm.valid">Aggiorna Profilo</ion-button></ion-col>

    </ion-row>
  </form>
  <ion-row style="width: 100%">
    <ion-col size="4" class="align-page" class="ion-no-padding" *ngFor="let reservation of userReservationList">
      <ion-card class="ion-no-padding" style="height: 250px; border-radius: 25px;">
        <ion-card-header style="height: 165px" class="ion-no-padding"
          [ngClass]="reservation.status == 'PENDING'? 'pending' : reservation.status == 'ACCEPTED' ? 'accepted':reservation.status == 'DECLINED' ? 'declined' :null">
          <ion-label style="margin-top: 30px">
            {{reservation.status}}
          </ion-label>
        </ion-card-header>
        <ion-card-content class="ion-no-padding ion-text-center">
          <ion-card-title *ngIf="isDoctor" style="margin-top: 20px">Paziente: {{reservation.name}}
            {{reservation.surname}}</ion-card-title>
          <ion-card-title *ngIf="!isDoctor" style="margin-top: 20px">Dottore: {{reservation.doctorName}}
            {{reservation.doctorSurname}}</ion-card-title>
          <ion-card-subtitle>Data Prenotazione: {{reservation.reservationDate}}
          </ion-card-subtitle>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-content>